<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Main Document</title>
    <link rel="stylesheet" href="../scss/main/css/main.css" />
    <link rel="stylesheet" href="../scss/main/nav/css/nav.css " />
    <link
      rel="stylesheet"
      href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"
    />
    <script src="//code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="//code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
  </head>
  <body>
    <nav>
      <div class="logo">
        <img src="../Asserts/Nav/logo.svg" alt="Company Logo" />
        <div class="title">Train</div>
      </div>
      <div class="menu">
        <div class="customer" onclick="checkbalance()">
          <img src="../Asserts/Nav/customer.svg" alt="Customer Service" />
          <div class="title">Balance</div>
        </div>
        <div class="auth">
          <img src="../Asserts/Nav/user.svg" alt="User" />
          <div
            class="title"
            onclick="document.cookie = 'railways-token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;'; window.location.href = 'login.html'"
          >
            Register / Login
          </div>
        </div>
      </div>
    </nav>
    <main>
      <section>
        <div class="search">
          <div class="container">
            <div class="Top">
              <div class="From">
                <img src="../Asserts/main/Search/From.svg" alt="From Station" />
                <input type="text" id="from" placeholder="From Station" />
              </div>
              <div class="To">
                <img src="../Asserts/main/Search/To.svg" alt="To Station" />
                <input type="text" id="to" placeholder="To Station" />
              </div>
              <div class="Date">
                <div class="title">Departure Date</div>
                <input type="date" id="departureDate" />
              </div>
              <div class="otherdates">
                <div class="tomorrow">
                  <div class="title">Tomorrow</div>
                  <div class="description">Tatkal Open</div>
                </div>
                <div class="after">
                  <div class="title">Day After</div>
                  <div class="description">Tatkal Open</div>
                </div>
              </div>
              <div class="button">
                <div class="btn" id="searchButton">Search ></div>
              </div>
            </div>
            <div class="Bottom">
              <img src="../Asserts/main/Search/img1.svg" alt="" />
              <div class="title">₹0 cancellation fee</div>
              <div class="dot">.</div>
              <img src="../Asserts/main/Search/img2.svg" alt="" />
              <div class="title">Instant full train fare refunds</div>
              <div class="dot">.</div>
              <img src="../Asserts/main/Search/img3.svg" alt="" />
              <div class="title">24*7 premium customer support</div>
              <div class="dot">.</div>
              <img src="../Asserts/main/Search/img4.svg" alt="" />
              <div class="title">No documentation required</div>
            </div>
          </div>
        </div>
      </section>
      <section>
        <div class="explore">
          <div class="title">
            <div class="topic">Explore More With ixigo</div>
          </div>
          <div class="description">
            <div class="img">
              <img src="../Asserts/main/explore/img1.svg" alt="Explore 1" />
              <div class="title">Flight</div>
            </div>
            <div class="img">
              <img src="../Asserts/main/explore/img2.svg" alt="Explore 1" />
              <div class="title">Flight</div>
            </div>
            <div class="img">
              <img src="../Asserts/main/explore/img3.svg" alt="Explore 1" />
              <div class="title">Flight</div>
            </div>
            <div class="img">
              <img src="../Asserts/main/explore/img4.svg" alt="Explore 1" />
              <div class="title">Flight</div>
            </div>
          </div>
        </div>
      </section>
      <section>
        <div class="why">
          <div class="title">
            <div class="topic">Why Book With Trains?</div>
          </div>
          <div class="description">
            <img src="../Asserts/main/explore/img5.svg" alt="Why 1" />
            <img src="../Asserts/main/explore/img6.svg" alt="Why 1" />
            <img src="../Asserts/main/explore/img7.svg" alt="Why 1" />
            <img src="../Asserts/main/explore/img8.svg" alt="Why 1" />
          </div>
        </div>
      </section>
      <section>
        <div class="irtct">
          <div class="title">
            <div class="topic">IRCTC Authorised Partner - Train Booking</div>
          </div>
          <div class="description">
            <div class="details">
              Book IRCTC or Indian Railway train tickets online quickly and
              easily on ixigo's train mobile app or website using your IRCTC
              user ID and login password. You will be paying ₹0 payment gateway
              fee on train booking and reservation via UPI. We are an IRCTC
              authorised partner and we offer
              <span>Tatkal ticket booking</span>service online on our mobile app
              and website. You can also book special trains online on our mobile
              app. <br />
              Once you have booked your ticket online, you can check your
              <span>PNR status</span> , know the chances of your ticket
              confirmation and check your train's <br />
              The ixigo app has multiple offers on UPI, credit card, debit card
              and CRED (train ticket booking cashback) for all Indian Railway
              passengers and users. Book a train ticket via ixigo and avoid
              paying any payment gateway charges if you pay via CRED Pay for
              train ticket booking.
            </div>
          </div>
        </div>
        <div class="live_status">
          <div class="left">Number of Live Trains Running</div>
          <div class="right">
            <div class="description">Count</div>
            <div class="number">12,000+</div>
          </div>
        </div>
      </section>
      <section>
        <div class="routes">
          <div class="title">
            <div class="topic">Popular Train Routes</div>
          </div>
          <div class="images">
            <img src="../Asserts/main/routes/img1.svg" alt="img1" />
            <img src="../Asserts/main/routes/img2.svg" alt="img2" />
            <img src="../Asserts/main/routes/img3.svg" alt="img3" />
            <img src="../Asserts/main/routes/img4.svg" alt="img4" />
            <img src="../Asserts/main/routes/img5.svg" alt="img5" />
            <img src="../Asserts/main/routes/img6.svg" alt="img6" />
            <img src="../Asserts/main/routes/img7.svg" alt="img7" />
            <img src="../Asserts/main/routes/img8.svg" alt="img8" />
            <img src="../Asserts/main/routes/img9.svg" alt="img9" />
          </div>
        </div>
      </section>
      <section>
        <div class="news">
          <div class="title">
            <div class="topic">IRCTC Train News</div>
          </div>
          <div class="images">
            <img src="../Asserts/main/news/img1.svg" alt="img1" />
            <img src="../Asserts/main/news/img2.svg" alt="img2" />
            <img src="../Asserts/main/news/img3.svg" alt="img3" />
            <img src="../Asserts/main/news/img4.svg" alt="img4" />
            <img src="../Asserts/main/news/img5.svg" alt="img5" />
          </div>
        </div>
      </section>
      <footer>
        <div class="left">
          <div class="one">
            © 2024 Le Travenues Technology Ltd. India. All brands are trademarks
            of their respective owners.
          </div>
          <div class="two">
            Privacy | Terms of Service | Refund | Policy | Career | Customer
            Service | About Us | CSR
          </div>
        </div>
        <div class="right">
          <svg
            width="28"
            height="28"
            viewBox="0 0 28 28"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1_949)">
              <g clip-path="url(#clip1_1_949)">
                <path
                  d="M14 3.5C8.20137 3.5 3.5 8.20137 3.5 14C3.5 19.7987 8.20137 24.5 14 24.5C19.7987 24.5 24.5 19.7987 24.5 14C24.5 8.20137 19.7987 3.5 14 3.5ZM16.289 13.9993H14.8197V19.3307H12.6166V14H11.5161V12.1625H12.6166V11.0593C12.6166 9.56047 13.238 8.66928 15.0034 8.66928H16.4734V10.5068H15.5547C14.8675 10.5068 14.8217 10.764 14.8217 11.2424L14.8197 12.1625H16.4839L16.289 13.9993Z"
                  fill="black
                  "
                />
              </g>
            </g>
            <defs>
              <clipPath id="clip0_1_949">
                <rect
                  width="28"
                  height="28"
                  fill="black
                "
                />
              </clipPath>
              <clipPath id="clip1_1_949">
                <rect
                  width="28"
                  height="28"
                  fill="black
                "
                />
              </clipPath>
            </defs>
          </svg>
          <svg
            width="28"
            height="28"
            viewBox="0 0 28 28"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1_954)">
              <path
                d="M17.7223 18.2015C17.7223 18.2015 17.0961 18.2008 16.7831 18.203C16.7427 18.2035 16.7196 18.1894 16.6964 18.1587C14.551 15.3503 10.2561 9.73913 10.2561 9.73913L11.2694 9.73511C11.2694 9.73511 11.3272 9.7477 11.3484 9.77537C13.4713 12.5859 17.7223 18.2015 17.7223 18.2015Z"
                fill="black
                "
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14 24.5C19.799 24.5 24.5 19.799 24.5 14C24.5 8.20101 19.799 3.5 14 3.5C8.20101 3.5 3.5 8.20101 3.5 14C3.5 19.799 8.20101 24.5 14 24.5ZM19.8333 19.2772L19.8053 19.243C19.8053 19.243 16.7453 15.2252 15.2408 13.1942C15.2433 13.1881 15.2448 13.1851 15.2448 13.1851L19.1256 8.74954C19.1467 8.72544 19.1177 8.72467 19.098 8.72388C19.098 8.72388 17.9644 8.72438 17.3976 8.72338C17.3679 8.72338 17.3488 8.73495 17.3297 8.75659C16.357 9.86902 15.3848 10.9819 14.4087 12.0913C14.4087 12.0913 12.7337 9.88104 11.8975 8.77421C11.8693 8.73697 11.8411 8.72287 11.7938 8.72287C10.5825 8.72459 8.16667 8.7274 8.16667 8.7274C9.63726 10.6494 11.1079 12.5713 12.5785 14.4933C11.1843 16.0858 9.79033 17.6785 8.3962 19.2711C8.3962 19.2711 9.55474 19.274 10.1348 19.2751C10.1695 19.2751 10.1932 19.2646 10.2163 19.2383C11.2784 18.0204 12.2939 16.7515 13.4146 15.5876C14.3675 16.7789 15.2725 18.0109 16.1981 19.2233C16.2268 19.2605 16.2555 19.2746 16.3023 19.2746C17.4794 19.2731 19.8333 19.2772 19.8333 19.2772Z"
                fill="black
                "
              />
            </g>
            <defs>
              <clipPath id="clip0_1_954">
                <rect
                  width="28"
                  height="28"
                  fill="black
                "
                />
              </clipPath>
            </defs>
          </svg>
          <svg
            width="28"
            height="28"
            viewBox="0 0 28 28"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1_959)">
              <path
                d="M14 15.9819C15.0946 15.9819 15.9818 15.0946 15.9818 14C15.9818 12.9054 15.0946 12.0182 14 12.0182C12.9054 12.0182 12.0181 12.9054 12.0181 14C12.0181 15.0946 12.9054 15.9819 14 15.9819Z"
                fill="black
                "
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M16.5332 8.99146H11.467C10.1201 8.99146 8.9942 10.1174 8.9942 11.4642V16.533C8.9942 17.8787 10.1204 19.0058 11.467 19.0058H16.5332C17.88 19.0058 19.006 17.88 19.006 16.533V11.4668C19.0074 10.1343 17.8788 8.99146 16.5332 8.99146ZM14 17.2418C12.2442 17.2418 10.7582 15.7677 10.7582 14C10.7582 12.2489 12.262 10.7581 14 10.7581C15.747 10.7581 17.242 12.236 17.242 14C17.239 15.7646 15.7647 17.239 14 17.2418ZM17.2498 11.5587C16.8225 11.5587 16.4623 11.1942 16.4623 10.7712C16.4623 10.3495 16.8313 9.9837 17.2498 9.9837C17.6789 9.9837 18.0373 10.3453 18.0373 10.7712C18.0373 11.1889 17.6676 11.5587 17.2498 11.5587Z"
                fill="black
                "
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14 3.5C19.719 3.5 24.5 8.281 24.5 14C24.5 19.6871 19.7254 24.4999 14 24.5C8.35476 24.5001 3.49999 19.6873 3.5 14C3.50001 8.34176 8.28662 3.5 14 3.5ZM20.2685 16.5331V11.4669C20.2657 9.43347 18.5666 7.73435 16.5332 7.7315H11.4669C9.43348 7.73435 7.73436 9.43347 7.7315 11.4669V16.5331C7.73436 18.5666 9.43348 20.2657 11.4669 20.2685H16.5332C18.5666 20.2657 20.2657 18.5666 20.2685 16.5331Z"
                fill="black
                "
              />
            </g>
            <defs>
              <clipPath id="clip0_1_959">
                <rect
                  width="28"
                  height="28"
                  fill="black
                "
                />
              </clipPath>
            </defs>
          </svg>
          <svg
            width="28"
            height="28"
            viewBox="0 0 28 28"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1_965)">
              <path
                d="M14 3.5C8.20137 3.5 3.5 8.20072 3.5 14C3.5 19.7987 8.20137 24.5 14 24.5C19.7987 24.5 24.5 19.7987 24.5 14C24.5 8.20072 19.7987 3.5 14 3.5ZM11.2726 18.1193H9.13062V11.6749H11.2726V18.1193ZM10.2016 10.7949H10.1878C9.4686 10.7949 9.00397 10.2994 9.00397 9.68122C9.00397 9.04925 9.48303 8.56822 10.2154 8.56822C10.9478 8.56822 11.3993 9.04925 11.4131 9.68122C11.4131 10.3001 10.9478 10.7949 10.2016 10.7949ZM18.996 18.1193H16.854V14.6713C16.854 13.805 16.5443 13.2145 15.7685 13.2145C15.1773 13.2145 14.8249 13.6128 14.67 13.998C14.6135 14.1358 14.5992 14.3281 14.5992 14.5204V18.1193H12.4578C12.4578 18.1193 12.486 12.28 12.4578 11.6749H14.5998V12.5878C14.884 12.1487 15.3932 11.5233 16.5305 11.5233C17.9395 11.5233 18.996 12.4447 18.996 14.424V18.1193Z"
                fill="black
                "
              />
            </g>
            <defs>
              <clipPath id="clip0_1_965">
                <rect
                  width="28"
                  height="28"
                  fill="black
                "
                />
              </clipPath>
            </defs>
          </svg>
          <svg
            width="28"
            height="28"
            viewBox="0 0 28 28"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1_969)">
              <path
                d="M12.572 12.3042L15.7902 13.9343C15.8658 13.981 15.8643 14.11 15.7877 14.1548L12.5694 15.6905C12.4911 15.7276 12.3861 15.6615 12.3857 15.575V12.4197C12.3852 12.3318 12.4934 12.2647 12.572 12.3042Z"
                fill="black
                "
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14 3.5C19.719 3.5 24.5 8.281 24.5 14C24.5 19.7134 19.6582 24.5 14 24.5C8.28714 24.5 3.46472 19.6035 3.50019 13.9343C3.53586 8.23415 8.33701 3.5 14 3.5ZM19.8852 15.7193V12.2806C19.8852 10.9495 18.7725 9.83675 17.4414 9.83675H10.5586C9.22751 9.83675 8.11473 10.9495 8.11473 12.2806V15.7193C8.11473 17.0492 9.22782 18.1632 10.5586 18.1632H17.4414C18.7725 18.1632 19.8852 17.0505 19.8852 15.7193Z"
                fill="black
                "
              />
            </g>
            <defs>
              <clipPath id="clip0_1_969">
                <rect
                  width="28"
                  height="28"
                  fill="black
                "
                />
              </clipPath>
            </defs>
          </svg>
        </div>
      </footer>
    </main>
    <script src="../js/config.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.7.2/axios.min.js"></script>
    <script src="../utils/tokenDecoder.js"></script>
    <script>
      if (
        !document.cookie.split(";").some((item) => {
          const [name, value] = item.trim().split("=");
          return name === "railways-token" && value !== "" && value !== "null";
        })
      ) {
        window.location.href = "./login.html";
      } else {
        const decode = decodeToken();
        document.addEventListener("DOMContentLoaded", function () {
          var today = new Date();
          var dd = String(today.getDate()).padStart(2, "0");
          var mm = String(today.getMonth() + 1).padStart(2, "0");
          var yyyy = today.getFullYear();

          today = yyyy + "-" + mm + "-" + dd;
          document.getElementById("departureDate").setAttribute("min", today);
        });
        let station = [];
        axios.get(`${URLS.base}/api/User/Station`).then((res) => {
          res.data.forEach((element) => {
            station.push(element.stationName);
          });
        });
        $("#from").autocomplete({
          source: station,
        });
        $("#to").autocomplete({
          source: station,
        });

        document.addEventListener("DOMContentLoaded", function () {
          document
            .getElementById("searchButton")
            .addEventListener("click", function () {
              const fromStation = document.getElementById("from").value;
              const toStation = document.getElementById("to").value;
              const departureDate =
                document.getElementById("departureDate").value;
              const queryParams = new URLSearchParams({
                from: fromStation,
                to: toStation,
                date: departureDate,
              }).toString();

              window.location.href = `trains.html?${queryParams}`;
            });
        });
      }
    </script>
  </body>
</html>
